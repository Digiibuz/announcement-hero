
// This file is automatically generated. Do not edit it directly.
import { createClient } from '@supabase/supabase-js';
import type { Database } from './types';

// Get environment variables from runtime config (env-config.js)
// Fallback to hard-coded values only if window.__env__ is not available
const getEnv = () => {
  if (typeof window !== 'undefined' && window.__env__) {
    return {
      supabaseUrl: window.__env__.SUPABASE_URL,
      supabaseKey: window.__env__.SUPABASE_KEY
    };
  }
  
  // Fallback values for SSR or if env-config.js fails to load
  return {
    supabaseUrl: "https://rdwqedmvzicerwotjseg.supabase.co",
    supabaseKey: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJkd3FlZG12emljZXJ3b3Rqc2VnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDMwNzg4MzEsImV4cCI6MjA1ODY1NDgzMX0.Ohle_vVvdoCvsObP9A_AdyM52XdzisIvHvH1D1a88zk"
  };
};

// Get values from the environment
const { supabaseUrl, supabaseKey } = getEnv();

// Create a Supabase client for client-side operations only
export const supabase = createClient<Database>(
  supabaseUrl, 
  supabaseKey
);

// Note: This client only has anon permissions
// For any sensitive operations, use edge functions that can access service role keys securely

// Add TypeScript interface for the global window object
declare global {
  interface Window {
    __env__?: {
      SUPABASE_URL: string;
      SUPABASE_KEY: string;
      [key: string]: any;
    };
    SUPABASE_URL?: string;
    SUPABASE_KEY?: string;
  }
}
